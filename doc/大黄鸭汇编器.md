# 大黄鸭汇编器
### 简介
大黄鸭汇编器是使用python3编写的汇编脚本，可以将大黄鸭指令集的汇编指令转换为处理器可以执行的二进制代码，并具备基本的注释和语法检查功能。

### 使用
使用前请确保你的系统已经安装了`python3.x`版本，`python2.x`是不支持的。  
汇编操作前请进入`tools/asm`目录。  
请在`asm.txt`编写你的汇编程序，汇编器默认读取此文件。  
1. windows  
运行`cmd`，输入`python`，即可看到当前python版本。低于`python3.x`请到python官网下载最新版本。  
完成汇编程序编写后，双击`run.bat`运行，即可看到目录下生成了`out.txt`和`obj.txt`。  
`obj.txt`是被RTL代码读取的，作为处理器实际执行的指令。  
2. linux  
终端执行`python3`即可看到当前python版本。命令错误请执行`sudo apt install python3`安装最新版。  
完成汇编程序编写后，终端执行`make`，即可看到目录下生成了`out.txt`和`obj.txt`。  
`obj.txt`是被RTL代码读取的，作为处理器实际执行的指令。  

### 语法检查
语法检查分为指令检查、立即数检查。  
指令检查：汇编器会检查指令类型是否符合相应格式，是否存在非法字符。  
立即数检查：汇编器会检查带有立即数的指令中立即数的数据范围。  
语法检查是在预处理后进行的，因此如果出现语法错误，请使用out.txt与错误信息进行比对。  

### 汇编脚本
`Assembler.py`是汇编脚本的本体，内含非常详细的注释和非常友好(看了就明白了)的变量命名。  
脚本采用结构化设计，将基本功能封装为函数，依次进行文件读取、预处理、写中间文件、语法检查、汇编、写输出文件。  
后期可能会扩展更多功能，如更好的语法检查、打印日志等。  